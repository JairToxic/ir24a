function shareButtons(){var e=j('link[rel*="canonical"]').length>0?j('link[rel*="canonical"]')[0].href:null,t=window.location.origin+j(".recipe-detail-header").find("img").eq(0).attr("src");j("body").on("click",".js-share-facebook",function(t){t.preventDefault(),j(this).attr("data-tracked")?e=j(this).attr("data-tracked"):j(this).attr("data-url")&&(e=j(this).attr("data-url")),window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e),"Facebook","width=320,height=480")}),j("body").on("click",".js-share-twitter",function(t){t.preventDefault(),j(this).attr("data-tracked")?e=j(this).attr("data-tracked"):j(this).attr("data-url")&&(e=j(this).attr("data-url")),window.open("https://twitter.com/share?url="+encodeURIComponent(e),"Twitter","width=320, height=480")}),j("body").on("click",".js-share-pinterest",function(i){i.preventDefault(),j(this).attr("data-tracked")?e=j(this).attr("data-tracked"):j(this).attr("data-url")&&(e=j(this).attr("data-url")),j(this).attr("data-image")&&(t=j(this).attr("data-image")),window.open("//pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&media="+encodeURIComponent(t)+"&description=","Pinterest","width=320, height=480")}),j("body").on("click",".js-share-googleplus",function(t){t.preventDefault(),j(this).attr("data-tracked")?e=j(this).attr("data-tracked"):j(this).attr("data-url")&&(e=j(this).attr("data-url")),window.open("https://plus.google.com/share?url="+encodeURIComponent(e),"Google Plus","width=320, height=480")})}function recipeListPopup(e,t){var i=t.html();if(j(".recipe-list-item").removeClass("active"),j(".recipe-list-item-popup").empty().remove(),t.addClass("active"),0!==t.length){if($(t).data("objecttype"))var o=$(t).data("objecttype").toLowerCase();var s=$(t).data("cookingtime"),n=$(t).data("summary")||"",a=String($(t).data("serves")),r=$(t).data("calories"),l="True"===$(t).data("freezable"),c=($(t).data("healthy"),$(t).data("url")),d=$(t).find(".recipe-list-item-visual").find("img").attr("src")||"",p=[];void 0===o||"recipevideo"!==o&&"recipe"!==o||(p.push('<ul class="recipe-meta recipe-meta-sml inline-list '+o+'">'),a.length>0&&"0"!==a&&(isNaN(a)||(a="Serves "+a),p.push('<li class="recipe-meta-tag"><i class="trf-icon trf-icon-serving"></i> '+a+"</li>")),s.length>0&&p.push('<li class="recipe-meta-tag"><i class="trf-icon trf-icon-time"></i> '+s+"</li>"),r>0&&p.push('<li class="recipe-meta-tag"><i class="trf-icon trf-icon-calories"></i> '+String(parseFloat(r).toFixed(0))+" calories / serving</li>"),l&&p.push('<li class="recipe-meta-tag"><i class="trf-icon trf-icon-freezable"></i> Freezable</li>')),p.push("</ul>",'<div class="recipe-list-item-description">',n,"</div>",'<div class="recipe-list-item-controls">','<div class="btn btn-sml btn-info" data-toggle="flyout" data-direction="ltr" data-placement="btm" data-width="270">Share</div>','<div class="flyout-content">','<div class="btn btn-social js-share-facebook" data-url="'+c+'"><i class="fa fa-facebook"></i></div>','<div class="btn btn-social js-share-twitter" data-url="'+c+'"><i class="fa fa-twitter"></i></div>','<div class="btn btn-social js-share-pinterest" data-url="'+c+'" data-image="'+d+'"><i class="fa fa-pinterest"></i></div>','<div class="btn btn-social js-share-googleplus" data-url="'+c+'"><i class="fa fa-google-plus"></i></div>','<div class="btn btn-social js-share-email hidden"><i class="tesco-icon tesco-icon-envelope"></i></div>','<div class="btn btn-social js-share-text hidden"><i class="tesco-icon tesco-icon-phone"></i></div>',"</div>"),p.push("</div>"),p=p.join(""),j('<div class="recipe-list-item recipe-list-item-popup"></div>').appendTo(t),j(i).appendTo(j(".recipe-list-item-popup")),j(p).appendTo(j(".recipe-list-item-popup"));var u={imageStart:j(".recipe-list-item-popup").find(".recipe-list-item-visual").outerHeight()};j(".recipe-list-item-popup").css({opacity:"0"}).css({width:"340px","margin-left":"-170px"}),u.imageEnd=j(".recipe-list-item-popup").find(".recipe-list-item-visual").outerHeight(),u.end=j(".recipe-list-item-popup").outerHeight(),j(".recipe-list-item-popup").removeAttr("style"),j(".recipe-list-item-popup > *").css({opacity:"0"}),j(".recipe-list-item-popup").css({opacity:"0.5"}).css({height:u.end-(u.imageEnd-u.imageStart)+"px"}).animate({height:u.end+"px",width:"340px","margin-left":"-170px",opacity:"1"},250,function(){j(this).css({height:"auto"}),j(".recipe-list-item-popup > *").animate({opacity:"1"},150),j(".recipe-list-item-popup").find('.btn[data-toggle*="flyout"]').trfFlyout()}),!1===g.touch&&setTimeout(function(){j(".recipe-list-item-popup").on("mouseleave",function(){if(j(this).find(".btn").hasClass("selected"))return!1;j(".recipe-list-item-popup").off("mouseleave").empty().remove()})},300)}else console.log("recipeListPopup(): Could not find recipe")}function throttle(e,t){var i=(new Date).getTime();return function(){var o=(new Date).getTime();o-i>=e&&(i=o,t.apply(null,arguments))}}function showMoreContent(){$(".js-show-more-content").each(function(){var e=$(this).html();if(e.length>55){var t=e.substr(0,55)+'<span class="moreellipses">...&nbsp;</span><span class="morecontent"><span>'+e.substr(54,e.length-55)+'</span>&nbsp;&nbsp;<a href="" class="show-more-link">more</a></span>';$(this).html(t)}}),$(".show-more-link").on("click",function(){return $(this).hasClass("less")?($(this).removeClass("less"),$(this).html("more")):($(this).addClass("less"),$(this).html("less")),$(this).parent().prev().toggle(),$(this).prev().toggle(),!1})}function expandableContent(){var e=$(".js-expandableContent");if(e.length>0){var t=$(window);if(e.find(".hidden-column").removeClass("visible-column"),t.width()<960)i=6;else if(t.width()>=960)var i=6;$(".js-expandableContent .hidden-column:lt("+i+")").addClass("visible-column")}}function expContentMore(){var e=$(".js-expandableContent");if(e.length>0){var t,i,o,s=$(window),n=e.find(".hidden-column").size(),a=e.find(".js-loadMoreContent"),r=e.find(".js-loadLessContent");s.width()<960?t=6:s.width()>=960&&(t=6),a.on("click",function(e){s.width()<960?i=6:s.width()>=960&&(i=6),e.preventDefault(),t=t+i<=n?t+i:n,$(".js-expandableContent .hidden-column:lt("+t+")").addClass("visible-column"),r.addClass("active"),t===n&&$(this).removeClass("active")}),r.on("click",function(e){s.width()<960?o=6:s.width()>=960&&(o=6),e.preventDefault(),$(".js-expandableContent .hidden-column").not(".js-expandableContent .hidden-column:lt("+o+")").removeClass("visible-column"),a.addClass("active"),$(this).addClass("active"),o<=o&&$(this).removeClass("active")}),n<=t?a.removeClass("active"):a.addClass("active")}}var g={touch:"ontouchstart"in window,mac:!!navigator.platform.match(/Mac/i),ie:""};if(void 0===console)var console={log:function(){}};if("Microsoft Internet Explorer"===navigator.appName){var ua=navigator.userAgent,re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!==re.exec(ua)&&(g.ie=parseFloat(RegExp.$1))}else g.ie=-1;var j=jQuery;jQuery(document).ready(function(){!0===g.touch?j("html").addClass("touch"):j("html").addClass("no-touch"),7===g.ie&&(j("html").addClass("ie7"),j("html").find('div[class*="grid"]').each(function(e,t){var i=j(this).width()-20;j(this).css({width:i+"px"})})),!0===g.mac&&j("html").addClass("mac")}),jQuery(window).load(function(){j("html").addClass("loaded")}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return r.raw?e:encodeURIComponent(e)}function i(e){return r.raw?e:decodeURIComponent(e)}function o(e){return t(r.json?JSON.stringify(e):String(e))}function s(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),r.json?JSON.parse(e):e}catch(e){}}function n(t,i){var o=r.raw?t:s(t);return e.isFunction(i)?i(o):o}var a=/\+/g,r=e.cookie=function(s,a,l){if(void 0!==a&&!e.isFunction(a)){if("number"==typeof(l=e.extend({},r.defaults,l)).expires){var c=l.expires,d=l.expires=new Date;d.setDate(d.getDate()+c)}return document.cookie=[t(s),"=",o(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var p=s?void 0:{},u=document.cookie?document.cookie.split("; "):[],h=0,f=u.length;h<f;h++){var g=u[h].split("="),m=i(g.shift()),v=g.join("=");if(s&&s===m){p=n(v,a);break}s||void 0===(v=n(v))||(p[m]=v)}return p};r.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)&&(e.cookie(t,"",e.extend({},i,{expires:-1})),!e.cookie(t))}}),function(d){function l(e,t,i){return t="("+i.replace(m,"\\$1")+")",e.replace(new RegExp(t,"gi"),"<strong>$1</strong>")}function i(e,t){this.el=d(e),this.el.attr("autocomplete","off"),this.suggestions=[],this.data=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.el.val(),this.intervalId=0,this.cachedResponse=[],this.onChangeInterval=null,this.ignoreValueChange=!1,this.serviceUrl=t.serviceUrl,this.isLocal=!1,this.options={autoSubmit:!1,minChars:1,maxHeight:300,deferRequestBy:0,width:0,highlight:!0,params:{},fnFormatResult:l,delimiter:null,zIndex:9999},this.initialize(),this.setOptions(t)}var m=new RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g");d.fn.autocomplete=function(e){return new i(this.get(0)||d("<input />"),e)},i.prototype={killerFn:null,initialize:function(){var e,t,i;e=this,i="Autocomplete_"+(t=Math.floor(1048576*Math.random()).toString(16)),this.killerFn=function(t){0===d(t.target).parents(".autocomplete").size()&&(e.killSuggestions(),e.disableKillerFn())},this.options.width||(this.options.width=this.el.width()),this.mainContainerId="AutocompleteContainter_"+t,d('<div id="'+this.mainContainerId+'" style="position:absolute;z-index:9999;"><div class="autocomplete-w1"><div class="autocomplete" id="'+i+'" style="display:none; width:300px;"></div></div></div>').appendTo("body"),this.container=d("#"+i),this.fixPosition(),window.opera?this.el.keypress(function(t){e.onKeyPress(t)}):this.el.keydown(function(t){e.onKeyPress(t)}),this.el.keyup(function(t){e.onKeyUp(t)}),this.el.blur(function(){e.enableKillerFn()}),this.el.focus(function(){e.fixPosition()})},setOptions:function(e){var t=this.options;d.extend(t,e),t.lookup&&(this.isLocal=!0,d.isArray(t.lookup)&&(t.lookup={suggestions:t.lookup,data:[]})),d("#"+this.mainContainerId).css({zIndex:t.zIndex}),this.container.css({maxHeight:t.maxHeight+"px",width:t.width})},clearCache:function(){this.cachedResponse=[],this.badQueries=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var e=this.el.offset();d("#"+this.mainContainerId).css({top:e.top+this.el.innerHeight()+"px",left:e.left+"px"})},enableKillerFn:function(){d(document).bind("click",this.killerFn)},disableKillerFn:function(){d(document).unbind("click",this.killerFn)},killSuggestions:function(){var e=this;this.stopKillSuggestions(),this.intervalId=window.setInterval(function(){e.hide(),e.stopKillSuggestions()},300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},onKeyPress:function(e){if(!this.disabled&&this.enabled){switch(e.keyCode){case 27:this.el.val(this.currentValue),this.hide();break;case 9:case 13:if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),9===e.keyCode)return;break;case 38:this.moveUp();break;case 40:this.moveDown();break;default:return}e.stopImmediatePropagation(),e.preventDefault()}},onKeyUp:function(e){if(!this.disabled){switch(e.keyCode){case 38:case 40:return}if(clearInterval(this.onChangeInterval),this.currentValue!==this.el.val())if(this.options.deferRequestBy>0){var t=this;this.onChangeInterval=setInterval(function(){t.onValueChange()},this.options.deferRequestBy)}else this.onValueChange()}},onValueChange:function(){clearInterval(this.onChangeInterval),this.currentValue=this.el.val();var e=this.getQuery(this.currentValue);this.selectedIndex=-1,this.ignoreValueChange?this.ignoreValueChange=!1:""===e||e.length<this.options.minChars?this.hide():this.getSuggestions(e)},getQuery:function(e){var t;return(t=this.options.delimiter)?(e=e.split(t),d.trim(e[e.length-1])):d.trim(e)},getSuggestionsLocal:function(e){var t,i,o,s,n;for(o=(i=this.options.lookup).suggestions.length,t={suggestions:[],data:[]},e=e.toLowerCase(),n=0;n<o;n++)0===(s=i.suggestions[n]).toLowerCase().indexOf(e)&&(t.suggestions.push(s),t.data.push(i.data[n]));return t},getSuggestions:function(e){var t,i;(t=this.isLocal?this.getSuggestionsLocal(e):this.cachedResponse[e])&&d.isArray(t.suggestions)?(this.suggestions=t.suggestions,this.data=t.data,this.suggest()):this.isBadQuery(e)||((i=this).options.params.query=e,d.get(this.serviceUrl,i.options.params,function(e){i.processResponse(e)},"text"))},isBadQuery:function(e){for(var t=this.badQueries.length;t--;)if(0===e.indexOf(this.badQueries[t]))return!0;return!1},hide:function(){this.enabled=!1,this.selectedIndex=-1,this.container.hide()},suggest:function(){if(0===this.suggestions.length)this.hide();else{var e,t,i,o,s,n,a,r;for(e=this,t=this.suggestions.length,o=this.options.fnFormatResult,s=this.getQuery(this.currentValue),a=function(t){return function(){e.activate(t)}},r=function(t){return function(){e.select(t)}},this.container.hide().empty(),n=0;n<t;n++)i=this.suggestions[n],(i=d((e.selectedIndex===n?'<div class="selected"':"<div")+' title="'+i+'">'+o(i,this.data[n],s)+"</div>")).mouseover(a(n)),i.click(r(n)),this.container.append(i);this.enabled=!0,this.container.show()}},processResponse:function(b){var a;try{a=eval("("+b+")")}catch(e){return}d.isArray(a.data)||(a.data=[]),this.options.noCache||(this.cachedResponse[a.query]=a,0===a.suggestions.length&&this.badQueries.push(a.query)),a.query===this.getQuery(this.currentValue)&&(this.suggestions=a.suggestions,this.data=a.data,this.suggest())},activate:function(e){var t,i;return t=this.container.children(),-1!==this.selectedIndex&&t.length>this.selectedIndex&&d(t.get(this.selectedIndex)).removeClass(),this.selectedIndex=e,-1!==this.selectedIndex&&t.length>this.selectedIndex&&(i=t.get(this.selectedIndex),d(i).addClass("selected")),i},deactivate:function(e,t){e.className="",this.selectedIndex===t&&(this.selectedIndex=-1)},select:function(e){var t;(t=this.suggestions[e])&&(this.el.val(t),this.options.autoSubmit&&(t=this.el.parents("form")).length>0&&t.get(0).submit(),this.ignoreValueChange=!0,this.hide(),this.onSelect(e))},moveUp:function(){-1!==this.selectedIndex&&(0===this.selectedIndex?(this.container.children().get(0).className="",this.selectedIndex=-1,this.el.val(this.currentValue)):this.adjustScroll(this.selectedIndex-1))},moveDown:function(){this.selectedIndex!==this.suggestions.length-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(e){var t,i,o;t=this.activate(e).offsetTop,o=(i=this.container.scrollTop())+this.options.maxHeight-25,t<i?this.container.scrollTop(t):t>o&&this.container.scrollTop(t-this.options.maxHeight+25),this.el.val(this.getValue(this.suggestions[e]))},onSelect:function(e){var t,i;t=this.options.onSelect,i=this.suggestions[e],e=this.data[e],this.el.val(this.getValue(i)),d.isFunction(t)&&t(i,e,this.el)},getValue:function(e){var t,i;return(t=this.options.delimiter)?(i=this.currentValue,1===(t=i.split(t)).length?e:i.substr(0,i.length-t[t.length-1].length)+e):e}}}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};(t=function(){var t=0;return function(i,o){var s,n,a,r=this;if(r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(i),appendDots:e(i),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},e.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.hidden="hidden",r.paused=!1,r.positionProp=null,r.respondTo=null,r.shouldClick=!0,r.$slider=e(i),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,s=e(i).data("slick")||{},r.options=e.extend({},r.defaults,s,o),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,(n=r.options.responsive||null)&&n.length>-1){r.respondTo=r.options.respondTo||"window";for(a in n)n.hasOwnProperty(a)&&(r.breakpoints.push(n[a].breakpoint),r.breakpointSettings[n[a].breakpoint]=n[a].settings);r.breakpoints.sort(function(e,t){return!0===r.options.mobileFirst?e-t:t-e})}void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(r.hidden="msHidden",r.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=e.proxy(r.autoPlay,r),r.autoPlayClear=e.proxy(r.autoPlayClear,r),r.changeSlide=e.proxy(r.changeSlide,r),r.clickHandler=e.proxy(r.clickHandler,r),r.selectHandler=e.proxy(r.selectHandler,r),r.setPosition=e.proxy(r.setPosition,r),r.swipeHandler=e.proxy(r.swipeHandler,r),r.dragHandler=e.proxy(r.dragHandler,r),r.keyHandler=e.proxy(r.keyHandler,r),r.autoPlayIterator=e.proxy(r.autoPlayIterator,r),r.instanceUid=t++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.init(),r.checkResponsive()}}()).prototype.addSlide=t.prototype.slickAdd=function(t,i,o){var s=this;if("boolean"==typeof i)o=i,i=null;else if(0>i||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):o?e(t).insertBefore(s.$slides.eq(i)):e(t).insertAfter(s.$slides.eq(i)):!0===o?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),s.$slidesCache=s.$slides,s.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var o={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(t=-t),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,i):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){e=Math.ceil(e),!1===s.options.vertical?(o[s.animType]="translate("+e+"px, 0px)",s.$slideTrack.css(o)):(o[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(o))},complete:function(){i&&i.call()}})):(s.applyTransition(),t=Math.ceil(t),o[s.animType]=!1===s.options.vertical?"translate3d("+t+"px, 0px, 0px)":"translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(o),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},t.prototype.asNavFor=function(t){var i=this,o=null!==i.options.asNavFor?e(i.options.asNavFor).slick("getSlick"):null;null!==o&&o.slideHandler(t,!0)},t.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=!1===t.options.fade?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(0==e.currentSlide-1&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},t.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow=e(t.options.prevArrow),t.$nextArrow=e(t.options.nextArrow),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.appendTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled"))},t.prototype.buildDots=function(){var t,i,o=this;if(!0===o.options.dots&&o.slideCount>o.options.slidesToShow){for(i='<ul class="'+o.options.dotsClass+'">',t=0;t<=o.getDotCount();t+=1)i+="<li>"+o.options.customPaging.call(this,o,t)+"</li>";i+="</ul>",o.$dots=e(i).appendTo(o.options.appendDots),o.$dots.find("li").first().addClass("slick-active")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),t.$slidesCache=t.$slides,t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0===t.options.centerMode&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),!0===t.options.accessibility&&t.$list.prop("tabIndex",0),t.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},t.prototype.checkResponsive=function(){var t,i,o,s=this,n=s.$slider.width(),a=window.innerWidth||e(window).width();if("window"===s.respondTo?o=a:"slider"===s.respondTo?o=n:"min"===s.respondTo&&(o=Math.min(a,n)),s.originalSettings.responsive&&s.originalSettings.responsive.length>-1&&null!==s.originalSettings.responsive){i=null;for(t in s.breakpoints)s.breakpoints.hasOwnProperty(t)&&(!1===s.originalSettings.mobileFirst?o<s.breakpoints[t]&&(i=s.breakpoints[t]):o>s.breakpoints[t]&&(i=s.breakpoints[t]));null!==i?null!==s.activeBreakpoint?i!==s.activeBreakpoint&&(s.activeBreakpoint=i,"unslick"===s.breakpointSettings[i]?s.unslick():(s.options=e.extend({},s.originalSettings,s.breakpointSettings[i]),s.refresh())):(s.activeBreakpoint=i,"unslick"===s.breakpointSettings[i]?s.unslick():(s.options=e.extend({},s.originalSettings,s.breakpointSettings[i]),s.refresh())):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,s.refresh())}},t.prototype.changeSlide=function(t,i){var o,s,n,a=this;switch(e(t.target).is("a")&&t.preventDefault(),n=0!=a.slideCount%a.options.slidesToScroll,o=n?0:(a.slideCount-a.currentSlide)%a.options.slidesToScroll,t.data.message){case"previous":s=0===o?a.options.slidesToScroll:a.options.slidesToShow-o,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide-s,!1,i);break;case"next":s=0===o?a.options.slidesToScroll:o,a.slideCount>a.options.slidesToShow&&a.slideHandler(a.currentSlide+s,!1,i);break;case"index":var r=0===t.data.index?0:t.data.index||e(t.target).parent().index()*a.options.slidesToScroll;a.slideHandler(a.checkNavigable(r),!1,i);break;default:return}},t.prototype.checkNavigable=function(e){var t,i;if(t=this.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var o in t){if(e<t[o]){e=i;break}i=t[o]}return e},t.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(){var t=this;t.autoPlayClear(),t.touchObject={},e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("data-slick-index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$list.off(".slick"),e(window).off(".slick-"+t.instanceUid),e(document).off(".slick-"+t.instanceUid),t.$slider.html(t.$slides)},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,o=0;if(!0===e.options.infinite)o=Math.ceil(e.slideCount/e.options.slidesToScroll);else if(!0===e.options.centerMode)o=e.slideCount;else for(;t<e.slideCount;)++o,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o-1},t.prototype.getLeft=function(e){var t,i,o,s=this,n=0;return s.slideOffset=0,i=s.$slides.first().outerHeight(),!0===s.options.infinite?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=-1*s.slideWidth*s.options.slidesToShow,n=-1*i*s.options.slidesToShow),0!=s.slideCount%s.options.slidesToScroll&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=-1*(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth,n=-1*(s.options.slidesToShow-(e-s.slideCount))*i):(s.slideOffset=-1*s.slideCount%s.options.slidesToScroll*s.slideWidth,n=-1*s.slideCount%s.options.slidesToScroll*i))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,n=(e+s.options.slidesToShow-s.slideCount)*i),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,n=0),!0===s.options.centerMode&&!0===s.options.infinite?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:!0===s.options.centerMode&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=!1===s.options.vertical?-1*e*s.slideWidth+s.slideOffset:-1*e*i+n,!0===s.options.variableWidth&&(o=s.slideCount<=s.options.slidesToShow||!1===s.options.infinite?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow),t=o[0]?-1*o[0].offsetLeft:0,!0===s.options.centerMode&&(o=!1===s.options.infinite?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1),t=o[0]?-1*o[0].offsetLeft:0,t+=(s.$list.width()-o.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e=this,t=0,i=0,o=[],s=!1===e.options.infinite?e.slideCount-e.options.slidesToShow+1:e.slideCount;for(!0===e.options.centerMode&&(s=e.slideCount);s>t;)o.push(t),t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,o=this;return i=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(s,n){return n.offsetLeft-i+e(n).outerWidth()/2>-1*o.swipeLeft?(t=n,!1):void 0}),Math.abs(e(t).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(){var t=this;e(t.$slider).hasClass("slick-initialized")||(e(t.$slider).addClass("slick-initialized"),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots()),t.$slider.trigger("init",[t])},t.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&!0===t.options.autoplay&&e("li",t.$dots).on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}).on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()})},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),!0===t.options.autoplay&&(e(document).on(t.visibilityChange,function(){t.visibility()}),!0===t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",function(){t.paused=!0,t.autoPlayClear()}),t.$list.on("mouseleave.slick",function(){t.paused=!1,t.autoPlay()}))),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,function(){t.checkResponsive(),t.setPosition()}),e(window).on("resize.slick.slick-"+t.instanceUid,function(){e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.setPosition()},50))}),e("*[draggable!=true]",t.$slideTrack).on("dragstart",function(e){e.preventDefault()}),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},t.prototype.keyHandler=function(e){var t=this;37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:"next"}})},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy");t.load(function(){t.animate({opacity:1},200)}).css({opacity:0}).attr("src",i).removeAttr("data-lazy").removeClass("slick-loading")})}var i,o,s,n=this;!0===n.options.centerMode?!0===n.options.infinite?(o=n.currentSlide+(n.options.slidesToShow/2+1),s=o+n.options.slidesToShow+2):(o=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),s=n.options.slidesToShow/2+1+2+n.currentSlide):(o=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide,s=o+n.options.slidesToShow,!0===n.options.fade&&(o>0&&o--,s<=n.slideCount&&s++)),t(n.$slider.find(".slick-slide").slice(o,s)),n.slideCount<=n.options.slidesToShow?(i=n.$slider.find(".slick-slide"),t(i)):n.currentSlide>=n.slideCount-n.options.slidesToShow?(i=n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow),t(i)):0===n.currentSlide&&(i=n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow),t(i))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.paused=!1,e.autoPlay()},t.prototype.postSlide=function(e){var t=this;t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,!0===t.options.autoplay&&!1===t.paused&&t.autoPlay()},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.progressiveLazyLoad=function(){var t,i=this;e("img[data-lazy]",i.$slider).length>0&&(t=e("img[data-lazy]",i.$slider).first()).attr("src",t.attr("data-lazy")).removeClass("slick-loading").load(function(){t.removeAttr("data-lazy"),i.progressiveLazyLoad()}).error(function(){t.removeAttr("data-lazy"),i.progressiveLazyLoad()})},t.prototype.refresh=function(){var t=this,i=t.currentSlide;t.destroy(),e.extend(t,t.initials),t.init(),t.changeSlide({data:{message:"index",index:i}},!0)},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),!0===t.options.focusOnSelect&&e(t.options.slide,t.$slideTrack).on("click.slick",t.selectHandler),t.setSlideClasses(0),t.setPosition(),t.$slider.trigger("reInit",[t])},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var o=this;return"boolean"==typeof e?(t=e,e=!0===t?0:o.slideCount-1):e=!0===t?--e:e,!(o.slideCount<1||0>e||e>o.slideCount-1)&&(o.unload(),!0===i?o.$slideTrack.children().remove():o.$slideTrack.children(this.options.slide).eq(e).remove(),o.$slides=o.$slideTrack.children(this.options.slide),o.$slideTrack.children(this.options.slide).detach(),o.$slideTrack.append(o.$slides),o.$slidesCache=o.$slides,void o.reinit())},t.prototype.setCSS=function(e){var t,i,o=this,s={};!0===o.options.rtl&&(e=-e),t="left"==o.positionProp?Math.ceil(e)+"px":"0px",i="top"==o.positionProp?Math.ceil(e)+"px":"0px",s[o.positionProp]=e,!1===o.transformsEnabled?o.$slideTrack.css(s):(s={},!1===o.cssTransitions?(s[o.animType]="translate("+t+", "+i+")",o.$slideTrack.css(s)):(s[o.animType]="translate3d("+t+", "+i+", 0px)",o.$slideTrack.css(s)))},t.prototype.setDimensions=function(){var e=this;if(!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth)e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length));else if(!0===e.options.variableWidth){var t=0;e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.children(".slick-slide").each(function(){t+=e.listWidth}),e.$slideTrack.width(Math.ceil(t)+1)}else e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length));var i=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-i)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(o,s){t=-1*i.slideWidth*o,!0===i.options.rtl?e(s).css({position:"relative",right:t,top:0,zIndex:800,opacity:0}):e(s).css({position:"relative",left:t,top:0,zIndex:800,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:900,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(e,t,i){var o=this;o.options[e]=t,!0===i&&(o.unload(),o.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},t.prototype.setSlideClasses=function(e){var t,i,o,s,n=this;n.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=n.$slider.find(".slick-slide"),!0===n.options.centerMode?(t=Math.floor(n.options.slidesToShow/2),!0===n.options.infinite&&(e>=t&&e<=n.slideCount-1-t?n.$slides.slice(e-t,e+t+1).addClass("slick-active"):(o=n.options.slidesToShow+e,i.slice(o-t+1,o+t+2).addClass("slick-active")),0===e?i.eq(i.length-1-n.options.slidesToShow).addClass("slick-center"):e===n.slideCount-1&&i.eq(n.options.slidesToShow).addClass("slick-center")),n.$slides.eq(e).addClass("slick-center")):e>=0&&e<=n.slideCount-n.options.slidesToShow?n.$slides.slice(e,e+n.options.slidesToShow).addClass("slick-active"):i.length<=n.options.slidesToShow?i.addClass("slick-active"):(s=n.slideCount%n.options.slidesToShow,o=!0===n.options.infinite?n.options.slidesToShow+e:e,n.options.slidesToShow==n.options.slidesToScroll&&n.slideCount-e<n.options.slidesToShow?i.slice(o-(n.options.slidesToShow-s),o+s).addClass("slick-active"):i.slice(o,o+n.options.slidesToShow).addClass("slick-active")),"ondemand"===n.options.lazyLoad&&n.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,o,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(i=null,s.slideCount>s.options.slidesToShow)){for(o=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-o;t-=1)i=t-1,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;o>t;t+=1)i=t,e(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.selectHandler=function(t){var i=this,o=parseInt(e(t.target).parents(".slick-slide").attr("data-slick-index"));return o||(o=0),i.slideCount<=i.options.slidesToShow?(i.$slider.find(".slick-slide").removeClass("slick-active"),i.$slides.eq(o).addClass("slick-active"),!0===i.options.centerMode&&(i.$slider.find(".slick-slide").removeClass("slick-center"),i.$slides.eq(o).addClass("slick-center")),void i.asNavFor(o)):void i.slideHandler(o)},t.prototype.slideHandler=function(e,t,i){var o,s,n,a=null,r=this;return t=t||!1,!0===r.animating&&!0===r.options.waitForAnimate||!0===r.options.fade&&r.currentSlide===e||r.slideCount<=r.options.slidesToShow?void 0:(!1===t&&r.asNavFor(e),o=e,a=r.getLeft(o),n=r.getLeft(r.currentSlide),r.currentLeft=null===r.swipeLeft?n:r.swipeLeft,!1===r.options.infinite&&!1===r.options.centerMode&&(0>e||e>r.getDotCount()*r.options.slidesToScroll)?void(!1===r.options.fade&&(o=r.currentSlide,!0!==i?r.animateSlide(n,function(){r.postSlide(o)}):r.postSlide(o))):!1===r.options.infinite&&!0===r.options.centerMode&&(0>e||e>r.slideCount-r.options.slidesToScroll)?void(!1===r.options.fade&&(o=r.currentSlide,!0!==i?r.animateSlide(n,function(){r.postSlide(o)}):r.postSlide(o))):(!0===r.options.autoplay&&clearInterval(r.autoPlayTimer),s=0>o?0!=r.slideCount%r.options.slidesToScroll?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount+o:o>=r.slideCount?0!=r.slideCount%r.options.slidesToScroll?0:o-r.slideCount:o,r.animating=!0,r.$slider.trigger("beforeChange",[r,r.currentSlide,s]),r.currentSlide,r.currentSlide=s,r.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),!0===r.options.fade?(!0!==i?r.fadeSlide(s,function(){r.postSlide(s)}):r.postSlide(s),void r.animateHeight()):void(!0!==i?r.animateSlide(a,function(){r.postSlide(s)}):r.postSlide(s))))},t.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,o,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),0>(o=Math.round(180*i/Math.PI))&&(o=360-Math.abs(o)),45>=o&&o>=0?!1===s.options.rtl?"left":"right":360>=o&&o>=315?!1===s.options.rtl?"left":"right":o>=135&&225>=o?!1===s.options.rtl?"right":"left":"vertical"},t.prototype.swipeEnd=function(){var e,t=this;if(t.dragging=!1,t.shouldClick=!(t.touchObject.swipeLength>10),void 0===t.touchObject.curX)return!1;if(!0===t.touchObject.edgeHit&&t.$slider.trigger("edge",[t,t.swipeDirection()]),t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide+t.getSlideCount()):t.currentSlide+t.getSlideCount(),t.slideHandler(e),t.currentDirection=0,t.touchObject={},t.$slider.trigger("swipe",[t,"left"]);break;case"right":e=t.options.swipeToSlide?t.checkNavigable(t.currentSlide-t.getSlideCount()):t.currentSlide-t.getSlideCount(),t.slideHandler(e),t.currentDirection=1,t.touchObject={},t.$slider.trigger("swipe",[t,"right"])}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,o,s,n,a=this;return n=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!a.dragging||n&&1!==n.length)&&(t=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==n?n[0].pageX:e.clientX,a.touchObject.curY=void 0!==n?n[0].pageY:e.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),"vertical"!==(i=a.swipeDirection())?(void 0!==e.originalEvent&&a.touchObject.swipeLength>4&&e.preventDefault(),s=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),o=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(o=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),a.swipeLeft=!1===a.options.vertical?t+o*s:t+o*(a.$list.height()/a.listWidth)*s,!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&"object"!=typeof t.options.prevArrow&&t.$prevArrow.remove(),t.$nextArrow&&"object"!=typeof t.options.nextArrow&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},t.prototype.unslick=function(){this.destroy()},t.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode?(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},t.prototype.visibility=function(){var e=this;document[e.hidden]?(e.paused=!0,e.autoPlayClear()):(e.paused=!1,e.autoPlay())},e.fn.slick=function(){var e,i=this,o=arguments[0],s=Array.prototype.slice.call(arguments,1),n=i.length,a=0;for(a;n>a;a++)if("object"==typeof o||void 0===o?i[a].slick=new t(i[a],o):e=i[a].slick[o].apply(i[a].slick,s),void 0!==e)return e;return i},e(function(){e("[data-slick]").slick()})}),function(e){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||window.opera);var disqusLibrary={PublicKey:"",ShortName:"",UrlArray:[],Results:[],loadCommentCounts:function(e,t,i){Results=[],0!==this.UrlArray.length&&$.ajax({type:"POST",url:"https://disqus.com/api/3.0/threads/set.jsonp",data:{api_key:this.PublicKey,forum:this.ShortName,thread:this.UrlArray},cache:!1,dataType:"jsonp",success:function(o){for(var s=0;s<o.response.length;s++)"null"!==o.response[s].forum&&("function"==typeof e&&e(o.response[s]),disqusLibrary.Results.push(o.response[s]));0!==disqusLibrary.Results.length||"function"!=typeof i?"function"==typeof t&&t():i({req:null,status:null,error:"errorcallback 1",response:o})},error:function(e,t,o){"function"==typeof i&&i({req:e,status:t,error:o,response:result})}})},automaticRecipeProcessing:function(){disqusLibrary.UrlArray=[],$("div[data-url]").each(function(e,t){var i=$(t).attr("data-url");disqusLibrary.UrlArray.push("link:"+i)}),0!==disqusLibrary.UrlArray.length&&disqusLibrary.loadCommentCounts(function(e){var t=e.link,i=e.posts;$('[data-url="'+t+'"] .comment-count span').first().text(i),$('[data-url="'+t+'"] .comment-count').addClass("active")},function(){$(".recipe-list-item-content .comment-count:not(.active)").addClass("active")})}};$(document).ready(function(){"object"==typeof disqusLibrary&&$(".comment-count").length>0&&disqusLibrary.automaticRecipeProcessing()}),$("body").click(function(e){if(!0===$(e.target).is(".flyout")||$(e.target).parents(".flyout").length>0||!0===$(e.target).is('.btn[data-toggle*="flyout"]')||$(e.target).parents('.btn[data-toggle*="flyout"]').length>0)return!1;j('.btn[data-toggle*="flyout"]').trfFlyout("close")}),function(e){e.fn.trfFlyout=function(t){var i=t,o={},t=e.extend(o,t);return this.each(function(){function t(){e(".share").removeClass("share"),e(".flyout").remove(),e('.selected[data-toggle*="flyout"]').removeClass("selected")}var o=e(this),s={btn:o,content:o.next(".flyout-content"),direction:o.attr("data-direction"),placement:o.attr("data-placement"),width:o.attr("data-width")||0,delay:o.attr("data-delay")||200};"string"==typeof i?"close"===i&&t():(s.content.find(".btn").click(function(){setTimeout(t,s.delay)}),o.click(function(i){if(i.preventDefault(),e(this).hasClass("selected"))t();else{e(".flyout").length>0&&t(),o.addClass("selected"),o.parent().parent().addClass("share");var n=s.content.clone(!0);n.wrap('<div class="flyout" />'),s.wrap=n.parent(),s.wrap.addClass("flyout-"+s.direction).addClass("flyout-"+s.placement).appendTo("body"),"btm"===s.placement?s.wrap.css({top:o.offset().top+o.outerHeight()+"px"}):s.wrap.css({top:o.offset().top+"px"}),"rtl"===s.direction?s.wrap.css({right:e(window).width()-(o.offset().left+o.outerWidth())+"px"}):s.wrap.css({left:o.offset().left+o.outerWidth()+"px"}),"btm"===s.placement&&"ltr"===s.direction&&s.wrap.css({left:o.offset().left+"px"}),"auto"===s.width?s.wrap.css({overflow:"visible"}).find(" > div").css({width:"auto"}):s.width>0&&s.wrap.find(" > div").css({width:s.width+"px"}),s.wrap.addClass("active")}}))})}}(jQuery),function(e){e.fn.trfDropdown=function(t){var i={},t=e.extend(i,t);return this.each(function(){var t=e(this);t.wrap('<div class="dropdown-menu" />');var i=t.parent();t.css({display:"none"}),e(['<div class="btn-group">','<div class="btn btn-reveal dropdown-menu-selected"></div>','<div class="btn btn-reveal dropdown-menu-toggle"><i class="trf-icon trf-icon-caret-down trf-icon-centered"></i></div>','<ul class="dropdown-list"></ul>',"</div>"].join("")).insertAfter(t),t.find("option").each(function(t,o){e('<li class="dropdown-list-item" data-value="'+e(this).attr("value")+'">'+e(this).html()+"</li>").appendTo(i.find(".dropdown-list")),e(this).attr("selected")&&i.find(".dropdown-menu-selected").html(e(this).attr("value"))});var o=function(){i.removeClass("active"),i.find(".dropdown-list").removeClass("active"),i.find(".dropdown-menu-toggle").find("i").removeClass("trf-icon-caret-up").addClass("trf-icon-caret-down")},s=function(){i.addClass("active"),i.find(".dropdown-list").addClass("active"),i.find(".dropdown-menu-toggle").find("i").removeClass("trf-icon-caret-down").addClass("trf-icon-caret-up")},n=function(e,t){i.find(".dropdown-menu-selected").html(e),i.find("option").removeAttr("selected"),i.find('option[value*="'+t+'"]').attr("selected","selected"),i.find("select").trigger("change")};i.find(".btn").on("click",function(){i.hasClass("active")?o():s()}),i.find(".dropdown-list-item").on("click",function(){n(e(this).html(),e(this).attr("data-value")),o()})})}}(jQuery),function(e){"use strict";function t(t,o){return this.each(function(){var s=e(this),n=s.data("bs.modal"),a=e.extend({},i.DEFAULTS,s.data(),"object"==typeof t&&t);n||s.data("bs.modal",n=new i(this,a)),"string"==typeof t?n[t](o):a.show&&n.show(o)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.2.0",i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(300):i.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27===e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"===this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;s?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(150):n()}else t&&t()},i.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},i.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var o=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=o,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=e(this),s=o.attr("href"),n=e(o.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(s)&&s},n.data(),o.data());o.is("a")&&i.preventDefault(),n.one("show.bs.modal",function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),t.call(n,a,this)})}(jQuery),function(e){function t(){var t=window.innerHeight,i=document.compatMode;return!i&&e.support.boxModel||(t="CSS1Compat"===i?document.documentElement.clientHeight:document.body.clientHeight),t}e(window).scroll(function(){var i=t(),o=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,s=[];e.each(e.cache,function(){this.events&&this.events.inview&&s.push(this.handle.elem)}),s.length&&e(s).each(function(){var t=e(this),s=t.offset().top,n=t.height(),a=t.data("inview")||!1;o>s+n||o+i<s?a&&(t.data("inview",!1),t.trigger("inview",[!1])):o<s+n&&(a||(t.data("inview",!0),t.trigger("inview",[!0])))})}),e(function(){e(window).scroll()})}(jQuery),window.trfDebug=-1===document.location.hostname.toLowerCase().indexOf("realfood.tesco.com"),$(".login-disabled .login-with-tesco").click(function(e){return console.log("disabled login click"),utilitiesLibrary.isLoginDisabled(function(e){utilitiesLibrary.loginPrompt(e)}),e.preventDefault(),!1}),"undefined"==typeof jsLibrary&&(jsLibrary={});var utilitiesLibrary={isRecipeInBinder:function(e){if($("body").hasClass("loggedIn"))for(var t=getBinderRecipes(),i=0;i<t.length;i++)if(e===t[i])return!0;return!1},isLoginDisabled:function(e){var t=$(".account-menu.login-disabled").length>0;return t&&"function"==typeof e&&e($(".account-menu.login-disabled").find("input").eq(0).val()),t},loginPrompt:function(e){utilitiesLibrary.isLoginDisabled(function(e){console.log("disabled login"),console.log(e);var t='<div class="site-login-prompt" style="display: none;"><div><h5>Login</h5><p>'+e+"</p><a class='btn btn-meal-plan'>Close</a></div></div>";return $("#header").append(t),$(".site-login-prompt a").click(function(){$(".site-login-prompt").hide()}),$("body,html").animate({scrollTop:$(".account-menu").offset().top-100},800,null,function(){return $(".site-login-prompt").fadeIn(1e3),!1}),!1});if(!$("body").hasClass("loggedIn")){if(0===$(".site-login-prompt").length){var t='<div class="site-login-prompt" style="display: none;"><div><h5>Login</h5><p>'+e+'</p><a class="btn btn-meal-plan">Close</a></div></div>';$("#header").append(t),$(".site-login-prompt a").click(function(){$(".site-login-prompt").hide()})}return $("body,html").animate({scrollTop:$(".account-menu").offset().top-100},800,null,function(){return $(".site-login-prompt").fadeIn(1e3),!1}),!1}return!0},validateEmail:function(e){return/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e)},GetQueryStringParamsSansKeyValue:function(e,t){var i=[];e=e.toLowerCase(),t=t.toLowerCase();for(var o=window.location.search.substring(1).split("&"),s=0;s<o.length;s++){var n=o[s].split("=");(n[0].toLowerCase()!==e||n[1].toLowerCase()!==t&&n[1].toLowerCase()!==encodeURIComponent(t))&&i.push(n[0]+"="+n[1])}return i.join("&")},GetAjaxStringParamsSansKeyValue:function(e,t){var i=[];e=e.toLowerCase(),t=t.toLowerCase();for(var o=window.location.hash,s=(o=(o=decodeURIComponent(o)).replace(new RegExp("#!q=","g"),"").replace(new RegExp('"',"g"),"")).split("&"),n=0;n<s.length;n++){var a=s[n].split("=");(a[0].toLowerCase()!==e||a[1].toLowerCase()!==t&&a[1].toLowerCase()!==encodeURIComponent(t))&&i.push(a[0]+"="+a[1])}return i.join("&")},GetParamsForAjax:function(e){e=e.toLowerCase();for(var t=window.location.hash,i=(t=(t=decodeURIComponent(t)).replace(new RegExp("#!q=","g"),"").replace(new RegExp('"',"g"),"")).split("&"),o=[],s=0;s<i.length;s++){var n=i[s].split("=");n[0].toLowerCase()===e&&o.push(unescape(n[1]))}return o},GetQueryStringParams:function(e){e=e.toLowerCase();for(var t=[],i=window.location.search.substring(1).split("&"),o=0;o<i.length;o++){var s=i[o].split("=");s[0].toLowerCase()===e&&t.push(unescape(s[1]))}return t}},googleAnalytics4legacy={userStatus:{UUID:null,LoggedIn:null},init:(console.log("googleAnalytics4legacy init() called - LEGACY"),void($("body").hasClass("loggedIn")&&$.ajax({type:"GET",url:"/api/binder/get",success:function(e){googleAnalytics4legacy.userStatus.UUID=e.UserId,googleAnalytics4legacy.userStatus.LoggedIn="logged in"}}))),trackEvent:function(e,t,i){console.log("TRACKING GA4 - LEGACY",e,t,i);var o={};null!=googleAnalytics4legacy.userStatus.UUID?(o.uuid=googleAnalytics4legacy.userStatus.UUID,o.user_status="logged in"):o.user_status="anonymous",o.page_location=document.querySelector("link[id='canonicalLink']").getAttribute("href"),o.page_title=document.title,o.component=t,o.feature=i,console.log(o),gtag("event",e,o),console.log("TRACKING GA4 - SENT - LEGACY")}},googleAnalytics={isEnabled:!1,trackEvent:function(e,t,i){console.log("TRACKING - LEGACY (main): "+i),null!=googleAnalytics4?googleAnalytics4.trackEvent(e,t,i):null!=googleAnalytics4legacy&&googleAnalytics4legacy.trackEvent(e,t,i)},readTextFromElement:function(e){var t=$(e),i="";do{i=$(t).text().trim(),t=$(t).parent()}while(""===i&&t.length>0);return i},standardTrackers:function(){this.isEnabled||($("div.submit-entry").on("click","",function(){googleAnalytics.trackEvent("Competition entry","click",document.location.href)}),$("body").on("click","a.btn-social-share",function(){googleAnalytics.trackEvent("Share Link","click",googleAnalytics.readTextFromElement($(this)))}),$(".groceriesAd a").click(function(){googleAnalytics.trackEvent("External Link","click","Grocery Button Promo")}),$(".shopPromoLink,.navGrocery").click(function(){jsLibrary.googleAnalytics.trackEvent("External Link","click","Grocery Button Promo")}),$(".magazineLink").click(function(){jsLibrary.googleAnalytics.trackEvent("trfMagazine","View PDF","trfMagazine PDF")}),$(".searchbutton").click(function(){jsLibrary.googleAnalytics.trackEvent("Search","Search 2014","Search Executed")}),$(".recipeFinder input[type=submit]").click(function(){var e="Find a recipe search";($("#searchCourse").val().length>0||$("#searchCookingTime").val().length>0||$("#searchCuisine").val().length>0)&&(e="Find a recipe search with constraints",$("#searchCourse").val().length>0&&(e+="-co"),$("#searchCookingTime").val().length>0&&(e+="-ct"),$("#searchCuisine").val().length>0&&(e+="-cu")),jsLibrary.googleAnalytics.trackEvent("Home Page","Search",e)}),$("a.cocktailButton.findCocktails").click(function(){jsLibrary.googleAnalytics.trackEvent("Cocktail Finder","Search Clicked","")}),$("a.cocktailButton.findCocktails").click(function(){jsLibrary.googleAnalytics.trackEvent("Cocktail Finder","Search Clicked","")}),$(".recipeShare .recipeFacebook").click(function(){jsLibrary.googleAnalytics.trackEvent("Recipe","Share","Facebook")}),$(".recipeShare .recipeTwitter").click(function(){jsLibrary.googleAnalytics.trackEvent("Recipe","Share","Twitter")}),$(".recipeShare .recipeEmail").click(function(){jsLibrary.googleAnalytics.trackEvent("Recipe","Share","Email")}),$(".recipePrint a").click(function(){jsLibrary.googleAnalytics.trackEvent("Recipe","Print",$("h1").text())}),$(".panelContent .smallButtonLilacArrow").click(function(){jsLibrary.googleAnalytics.trackEvent("Recipe","Buy ingredients",$("h1").text())}),$(".panelContent .tesco-button-large").click(function(){jsLibrary.googleAnalytics.trackEvent("Recipe","Buy ingredients",$("h1").first().text())}),this.isEnabled=!0)}};jsLibrary.googleAnalytics=this.googleAnalytics;var siteSearch={opts:{complete:!1,defaultValue:""},init:function(){var e=this;j(".site-search-dropdown").find("option").each(function(e,t){if(0===e&&(j(".site-search-dropdown").wrap('<div class="site-search-course-selector"> '),j(".site-search-dropdown").addClass("hidden"),j('<div class="site-search-course-selector-selected" />').appendTo(".site-search-course-selector"),j('<i class="trf-icon trf-icon-caret-down" /i>').appendTo(".site-search-course-selector"),j('<ul class="dropdown-list" />').appendTo(".site-search-course-selector")),j(t).attr("data-value"))i=j(t).attr("data-value");else var i=j(t).html();j('<li class="dropdown-list-item" data-value="'+i+'">'+i+"</li>").appendTo(j(".site-search-course-selector").find("ul"))}),j(".site-search-course-selector").find("li").on("click",function(){j(".site-search").hasClass("active")?e.close():e.open(),j(".site-search-course-selector-selected").html(j(this).attr("data-value")),j(".site-search-dropdown").find("option").removeAttr("selected"),j(".site-search-dropdown").find('option[data-value*="'+j(this).attr("data-value")+'"]').attr("selected","selected")}),j(".site-search-course-selector-selected").on("click",function(){j(".site-search").hasClass("active")?e.close():e.open()}),j(".site-search-dropdown").val()?j(".site-search-course-selector-selected").html(j(".site-search-dropdown").find("option[selected]").attr("value")):j(".site-search-course-selector-selected").html(j(".site-search-dropdown").find("option").eq(0).html()),j(".site-search").find('input[type="text"]').on("keydown",function(e){console.log(j(".autocomplete-w1").find(".autocomplete > div").eq(0).html()),13===e.keyCode&&(e.preventDefault(),j(".site-search").find('input[type="button"]').click())}).on("keyup",function(){setTimeout(function(){""===j(".autocomplete-w1").find(".autocomplete > div").eq(0).html()?j(".autocomplete-w1").css({opacity:"0"}):j(".autocomplete-w1").css({opacity:"1"})},20)}).on("focus",function(){e.close(),j(this).val("")}).on("blur",function(){}),j("body").on("click",function(t){j(t.target).parents(".site-search").length<=0&&e.close()}),e.opts.complete=!0},close:function(){j(".site-search").removeClass("active"),j(".site-search-course-selector").find(".dropdown-list").removeClass("active")},open:function(){j(".site-search").addClass("active"),j(".site-search-course-selector").find(".dropdown-list").addClass("active")}};jQuery(document).ready(function(){j(".recipe-list-item-popup").empty().remove(),j(".recipe-list-item").removeClass("active"),$('a[href^="http://"],a[href^="https://"]').not('a[href$="#disqus_thread"]').not("a.login-with-tesco").attr("target","_blank"),j(".dropdown-select").length>0&&j(".dropdown-select").trfDropdown(),j('.btn[data-toggle*="flyout"]').length>0&&j('.btn[data-toggle*="flyout"]').trfFlyout(),j("#subcategories").find(".btn").click(function(){j(this).hasClass("load-less")?(j(".subcategory-list").find(".grid-12").find(".recipe-ingredient-cta").addClass("hidden"),j(".subcategory-list").find(".grid-12").eq(0).find(".recipe-ingredient-cta").removeClass("hidden"),j(this).html(j(this).html().replace("Fewer","More")).removeClass("load-less").find("i").toggleClass("tesco-icon-chevron-up").toggleClass("tesco-icon-chevron-down")):(j(".subcategory-list").find(".grid-12").find(".recipe-ingredient-cta").removeClass("hidden"),j(this).html(j(this).html().replace("More","Fewer")).addClass("load-less").find("i").toggleClass("tesco-icon-chevron-up").toggleClass("tesco-icon-chevron-down"))}),"#subcategories"===window.location.hash&&j("#subcategories").find(".btn").click(),shareButtons(),siteSearch.init(),googleAnalytics.standardTrackers(),j(".comment-count").find("a").click(function(e){e.preventDefault(),j("html, body").animate({scrollTop:j(".recipe-detail-comments").offset().top-100+"px"})}),j(".star-rating").find("a").click(function(e){e.preventDefault(),j("html, body").animate({scrollTop:j(".recipe-involvement-controls").offset().top-100+"px"},function(){!0===j(this).is("html")&&j(".recipe-involvement-control-rate").find(".btn").eq(0).click()})}),j(".rate-recipe-star").hover(function(){j(this).addClass("hover").prevAll(".rate-recipe-star").addClass("hover")},function(){j(this).removeClass("hover").prevAll(".rate-recipe-star").removeClass("hover")}).click(function(){j(this).parent().find(".rate-recipe-star").removeClass("selected"),j(this).parent().find(".hover").addClass("selected")}),j(".rate-recipe").on("click",".btn-confirm",function(){var e=$(this);if($(e).hasClass("rated"))return!1;var t=$(".flyout .rate-recipe-star.selected").length;return!(void 0===t||t<1||t>5)&&($.ajax({type:"POST",cache:!0,url:"/ajaxmanager.aspx/AddRecipeRating",data:'{recipeId:"'+$("#recipeId").val()+'",rating:"'+t+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(t){if(t.d.IsSuccessful){var i=t.d.Value;return $(".star-rating .star-rating-count:first span:first").text(i.NumberOfRatings+(1===i.NumberOfRatings?" rating":" ratings")),$(".star-rating-visual .star-rating-rating").first().attr("class","star-rating-rating star-rating-"+i.Rating),$(e).addClass("rated"),!1}}}),!1)}),j(".recipe-tools-controls").find(".btn").click(function(e){e.preventDefault();var t=j(".recipe-tools-controls").find(".btn").index(this);j(".recipe-tools-controls").find(".btn").removeClass("selected"),j(this).addClass("selected"),j(".recipe-tools > div").addClass("hidden").eq(t).removeClass("hidden")}),j(".search-results-filters").on("click",".search-results-filter-title",function(){var e=j(this).next(".search-results-filter-collection"),t=j(this),i=j(this).closest(".search-results-filter").prop("id");j(this).hasClass("active")?(e.slideUp(250,function(){t.removeClass("active").find("i").toggleClass("tesco-icon-chevron-down").toggleClass("tesco-icon-chevron-up"),e.removeClass("active")}),$.cookie(i,0,{expires:90}),console.log("Set cookie close: "+i)):(e.slideDown(250,function(){t.addClass("active").find("i").toggleClass("tesco-icon-chevron-down").toggleClass("tesco-icon-chevron-up"),e.addClass("active")}),$.cookie(i,1,{expires:90}),console.log("Set cookie open: "+i))}),j(".btn-group").on("mouseenter",function(){j(this).find(".btn").addClass("hover")}).on("mouseleave",function(){j(this).find(".btn").removeClass("hover")})}),jQuery(window).load(function(){function e(){if(j(window).width()>640){var e=j(".recipe-detail-header").find(".fixed-content").outerHeight();j(".recipe-detail-content").find('> .container > div[class*="grid"]').eq(-1).css({"margin-top":"-"+e+"px"}),j(".recipe-detail-content").find('> .container > div[class*="grid"]').eq(0).css({"min-height":j(".recipe-detail-content").find('> .container > div[class*="grid"]').eq(-1).outerHeight()-e+"px"})}else j(".recipe-detail-content").removeAttr("style")}j(".recipe-detail-header").length>0&&j(".recipe-detail-header").find("img").load(e),j(".recipe-involvement-controls").length>0&&{top:j(".recipe-involvement-controls").offset().top,isSnapped:!1,buffer:40,width:340,init:function(){var e=this;j(window).scroll(throttle(8,function(){e.snap()}))},snap:function(){j(window).scrollTop()>=this.top-this.buffer?(this.isSnapped=!0,j(".recipe-involvement-controls").css({top:j(window).scrollTop()-j(".recipe-detail-header").offset().top+"px"})):!0===this.isSnapped&&(this.isSnapped,j(".recipe-involvement-controls").removeAttr("style"))}}.init(),j(window).resize(function(){e()}).trigger("resize")});var loginLibrary={init:function(){$("a.logout-with-facebook").click(function(){return $("body").hasClass("loggedInViaFacebook")&&FB.getLoginStatus(function(e){e.authResponse&&FB.logout()}),$.ajax({type:"POST",url:"/ajaxmanager.aspx/Logout",contentType:"application/json; charset=utf-8",dataType:"json",success:function(){window.location.reload()}}),!1}),$("a.login-with-facebook").click(function(){return $(this).after('<img class="loginLoader" src="/images/icons/ajax-loader-facebook.gif" alt="working.." width="32" height="32"/>'),null!==typeof window.trfDebug&&window.trfDebug?$.ajax({type:"POST",url:"/ajaxmanager.aspx/LoginTestUser",data:"",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){$(".loginLoader").remove(),e.d.IsSuccessful?window.location.reload():popups.showErrorPopup("There was a problem creating your account. Please try again later")}}):FB.login(function(e){e.authResponse&&$.ajax({type:"POST",url:"/ajaxmanager.aspx/InitialiseFacebookUser",data:'{facebookId: "'+e.authResponse.userID+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){$(".loginLoader").remove(),e.d.IsSuccessful?window.location.reload():popups.showErrorPopup("There was a problem creating your account. Please try again later")}})},{scope:"email"}),!1})}};!function(e){e.fn.extend({center:function(t){var t=e.extend({inside:window,transition:0,minX:0,minY:30,withScrolling:!0,vertical:!0,horizontal:!0},t);return this.each(function(){var i={position:"absolute"};if(t.vertical){var o=(e(t.inside).height()-e(this).outerHeight())/2;t.withScrolling&&(o+=e(t.inside).scrollTop()||0),o=o>t.minY?o:t.minY,e.extend(i,{top:o+"px"})}if(t.horizontal){var s=(e(t.inside).width()-e(this).outerWidth())/2;t.withScrolling&&(s+=e(t.inside).scrollLeft()||0),s=s>t.minX?s:t.minX,e.extend(i,{left:s+"px"})}return t.transition>0?e(this).animate(i,t.transition):e(this).css(i),e(this)})}})}(jQuery),expandableContent(),expContentMore(),jQuery(window).on("resize",function(){expandableContent()}),$(window).width()<640&&showMoreContent();var searchLibrary={SEARCH_PROMPT:"Search ingredient, recipe, dish or keyword",CALORIES_DEFAULT_FROM:0,CALORIES_DEFAULT_TO:2e3,RESULTS_PER_PAGE:30,SEARCH_URL:"",registeredAntiIngredients:[],jump:function(){$("html, body").scrollTop($(".section-tabs").first().offset().top-50)},performSearch:function(e,t,i,o){console.log("performSearch() called"),void 0!==o&&null!==o&&"boolean"==typeof o||(o=!0),void 0!==i&&null!==i&&"boolean"==typeof i||(i=!1),void 0!==e&&null!==e&&"NaN"!==Number(e)||(e=1),void 0!==t&&null!==t||void 0===(t=utilitiesLibrary.GetParamsForAjax("selectedobjecttype")[0])&&(t=utilitiesLibrary.GetQueryStringParams("selectedobjecttype")[0]),$(".section-tabs").length>0&&e>0&&searchLibrary.jump();var s=[],n=this.SEARCH_URL;if(i){s.push("CustomerRecipe=false"),$('input[name="title"]').val(""),$('.search-results-filter-collection input[type="checkbox"]').prop("checked",!1);var a=$(".site-search-dropdown").val();void 0!==a&&a.length>0&&"all courses"!==a.toLowerCase()&&s.push("Course="+a),e=1,t=null}if(void 0!==t&&null!==t&&t.length>0&&s.push("selectedobjecttype="+t),null!=$("input.search-quick:text").val()&&$("input.search-quick:text").val().length>0&&$("input.search-quick:text").val()!==this.SEARCH_PROMPT&&s.push("search="+$("input.search-quick:text").val()),$("#titleSearch").length>0&&$("#titleSearch").val().length>0&&!i&&s.push("Title="+$("#titleSearch").val()),e>1&&s.push("page="+String(e)),!i){console.log("Results per page: "+this.RESULTS_PER_PAGE),s.push("perpage="+this.RESULTS_PER_PAGE);var r=$("#perPageButton");if(30===this.RESULTS_PER_PAGE?($(r).data("perpage",90),$(r).attr("title","Show 90 per page"),$(r).text("Show 90 per page")):90===this.RESULTS_PER_PAGE&&($(r).data("perpage",90),$(r).attr("title","Show 90 per page"),$(r).text("Show 90 per page")),null!==$(".search-results-controls-search-by select").val()){var l=$(".search-results-controls-search-by select").val();l.length>0&&"Relevance"!==l&&s.push("sortby="+l)}$('input[type="checkbox"].searchfacet:checked').each(function(e){s.push($(this).prop("name")+"="+$(this).prop("value"))}),$('input[type="radio"].searchfacet:checked').each(function(e){$(this).val().length>0&&s.push($(this).prop("name")+"="+$(this).prop("value"))});for(p=0;p<this.registeredAntiIngredients.length;p++)s.push("notIngredients="+this.registeredAntiIngredients[p]);var c=utilitiesLibrary.GetQueryStringParams("calories-from"),d=utilitiesLibrary.GetQueryStringParams("calories-to");0!==c.length&&0!==d.Length&&"NaN"!==Number(c)&&"NaN"!==Number(d)||(c=$("#calories-from").val(),d=$("#calories-to").val()),void 0!==c&&void 0!==d&&"NaN"!==Number(c)&&"NaN"!==Number(d)&&(c>searchLibrary.CALORIES_DEFAULT_FROM||d<searchLibrary.CALORIES_DEFAULT_TO)&&(s.push("calories-from="+String(0===c?"1":c)),s.push("calories-to="+d),console.log("calories params SET"))}if(s.length>0)for(var p=0;p<s.length;p++)n+=(0===p?"":"&")+s[p].replace(new RegExp("\\+","g")," ");console.log("Search URL: "+n);n.replace(new RegExp("=","g"),">").replace(new RegExp("&","g"),"#");if(0===$('input[type="checkbox"].searchfacet').length||i)return console.log("header search clicked [1]"),googleAnalytics.trackEvent("Search term",n),void(window.location="/search.html?"+n);null!==searchLibrary.history&&searchLibrary.history.add({q:'"'+n+'"'}),"object"==typeof disqusLibrary&&$(".comment-count").length>0&&disqusLibrary.automaticRecipeProcessing()},clearCalorieSearch:function(){$(".range-filter").slider("option","values",[searchLibrary.CALORIES_DEFAULT_FROM,searchLibrary.CALORIES_DEFAULT_TO]),$(".range-filter-values").find("span").eq(0).html(searchLibrary.CALORIES_DEFAULT_FROM),$(".range-filter-values").find("span").eq(1).html(searchLibrary.CALORIES_DEFAULT_TO),$("#calories-from").attr("data-calories",searchLibrary.CALORIES_DEFAULT_FROM).val(searchLibrary.CALORIES_DEFAULT_FROM),$("#calories-to").attr("data-calories",searchLibrary.CALORIES_DEFAULT_TO).val(searchLibrary.CALORIES_DEFAULT_TO)},requestSearch:function(e){console.log("requestSearch() called"),$(".search-results").removeClass("loaded");var t='{"queryString":"'+e.replace(new RegExp("=","g"),">").replace(new RegExp("&","g"),"#")+'"}';$.ajax({type:"POST",url:"/ajaxmanager.aspx/search",data:t,contentType:"application/json; charset=UTF-8",success:function(e){for(var t=e.d,i=0;i<t.Facets.length;i++){var o=t.Facets[i];o.HasValue&&($f=$(o.Html),$f.find("a").length>0?($("#"+o.Identifier).html($f.html()),$("#"+o.Identifier).show()):$("#"+o.Identifier).hide())}0===t.RecipeCount?$("#facet-calories").hide():$("#facet-calories").show(),$("#"+t.SearchResult.Identifier).html(t.SearchResult.Html),searchLibrary.preloadImages(t),$('li[data-searchtype="recipes"] > span.search-results-meta').html("("+t.RecipeCount+")"),$('li[data-searchtype="recipevideos"] > span.search-results-meta').html("("+t.RecipeVideoCount+")"),0===t.RecipeVideoCount?$('li[data-searchtype="recipevideos"]').hide():$('li[data-searchtype="recipevideos"]').show(),$('li[data-searchtype="cookingtips"] > span.search-results-meta').html("("+t.TipsCount+")"),0===t.TipsCount?$('li[data-searchtype="cookingtips"]').hide():$('li[data-searchtype="cookingtips"]').show(),$('li[data-searchtype="more"] > span.search-results-meta').html("("+t.MoreCount+")"),0===t.MoreCount?$('li[data-searchtype="more"]').hide():$('li[data-searchtype="more"]').show(),$("ul.inline-list.tabs-list > li").each(function(){$(this).removeClass("active")}),$(".filter-container").hide(),$("#"+t.VisibleFiltersId).show();for(i=0;i<t.HideContentContainerIds.length;i++){var s=t.HideContentContainerIds[i];$("#"+s).hide()}for(i=0;i<t.ShowContentContainerIds.length;i++){var n=t.ShowContentContainerIds[i];$("#"+n).show()}switch(t.SelectedTabIndex){case 0:$('li[data-searchtype="recipes"]').addClass("active");break;case 1:$('li[data-searchtype="recipevideos"]').addClass("active");break;case 2:$('li[data-searchtype="cookingtips"]').addClass("active");break;case 3:$('li[data-searchtype="more"]').addClass("active")}$("div.search-results-count").find("label").html(t.ResultsCountString),t.ShowPageSizeButton?$("div.search-results-count").find(".btn").show():$("div.search-results-count").find(".btn").hide(),$(".search-total-results").text(t.RecipeCount+t.RecipeVideoCount+t.TipsCount+t.MoreCount),$("#"+t.Paging.Identifier).remove(),$("#pagingContainer").append($(t.Paging.Html)),$("#perPageButton").html("Show "+t.PageSizeButtonValue+" per page"),$("#perPageButton").attr("title","Show "+t.PageSizeButtonValue+" per page"),$("#perPageButton").attr("data-perpage",t.PageSizeButtonValue)},dataType:"json"})},prepareSearch:function(){if(console.log("prepareSearch() called 2"),!1===g.touch&&j("div.search-results").on("mouseenter",'div[class*="grid"] > .recipe-list-item',function(){if(!0===j(this).hasClass("recipe-list-item-collection")||j(".recipe-list-item-popup").find(".btn").hasClass("selected")||!0===j(this).hasClass("recipe-list-item-popup"))return!1;var e=j(this),t=j(".recipe-list-item").index(this);timer=window.setTimeout(function(){recipeListPopup(t,e)},500)}).on("mouseleave",'div[class*="grid"] > .recipe-list-item',function(){window.clearTimeout(timer)}),j(".range-filter").length>0&&(j(".range-filter").slider({range:!0,min:searchLibrary.CALORIES_DEFAULT_FROM,max:searchLibrary.CALORIES_DEFAULT_TO,values:[j("#calories-from").attr("data-calories"),0===j("#calories-to").attr("data-calories")?searchLibrary.CALORIES_DEFAULT_TO:j("#calories-to").attr("data-calories")],create:function(e,t){j(".range-filter-values").find("span").eq(1).html(0===j("#calories-to").attr("data-calories")?searchLibrary.CALORIES_DEFAULT_TO:j("#calories-to").attr("data-calories")),j("#calories-to").attr("data-calories",0===j("#calories-to").attr("data-calories")?searchLibrary.CALORIES_DEFAULT_TO:j("#calories-to").attr("data-calories")).val(0===j("#calories-to").attr("data-calories")?searchLibrary.CALORIES_DEFAULT_TO:j("#calories-to").attr("data-calories"))},slide:function(e,t){j(".range-filter-values").find("span").eq(0).html(t.values[0]),j(".range-filter-values").find("span").eq(1).html(t.values[1]),j("#calories-from").attr("data-calories",t.values[0]).val(t.values[0]),j("#calories-to").attr("data-calories",t.values[1]).val(t.values[1])},stop:function(e,t){console.log("RELEASED"),searchLibrary.performSearch()}}),j(".range-filter-values").find("span").eq(0).html(j("#calories-from").attr("data-calories")),j(".range-filter-values").find("span").eq(1).html(j("#calories-to").attr("data-calories"))),$(document).on("click",".search-results-filter-collection li",function(e){e.preventDefault();var t=$(this).find(".searchfacet");return $(e.target).is(".searchfacet")||$(t).prop("checked",!$(t).prop("checked")),searchLibrary.performSearch(1,utilitiesLibrary.GetParamsForAjax("selectedobjecttype")),!1}),$("#facet-calories").length>0){console.log("Configuring calorie slider");var e=0;$("#facet-calories-controls input[data-calories]").each(function(t){var i=$(this).prop("name"),o=utilitiesLibrary.GetQueryStringParams(i);console.log("Value from QS: "+o),1===o.length?"NaN"!==Number(o[0])&&(e++,$(this).val(o[0])):$(this).val($(this).data("calories"))})}$("#btnAddAntiIngredient").click(function(e){e.preventDefault();var t=$(".search-results-antifilter.ingredient");if(0!==t.length){var i=$(t).val();if(0!==i.length)return searchLibrary.registeredAntiIngredients.push(i),searchLibrary.performSearch(),$("document").ready(function(){searchLibrary.jump()}),!1}}),searchLibrary.registeredAntiIngredients=searchLibrary.registeredAntiIngredients.concat(utilitiesLibrary.GetQueryStringParams("notIngredients")),searchLibrary.registeredAntiIngredients=searchLibrary.registeredAntiIngredients.concat(utilitiesLibrary.GetParamsForAjax("notIngredients")),$("input.searchbutton").click(function(e){return console.log("search click 1"),e.preventDefault(),$(this).hasClass("newsearch")?searchLibrary.performSearch(0,null,!0):searchLibrary.performSearch(),!1}),$(document).on("click","li.searchfilter-remove",function(e){if(e.preventDefault(),$(this).hasClass("remove-all"))$('input[type="checkbox"].searchfacet').prop("checked",!1),$('input[type="radio"].searchfacet').prop("checked",!1),$('input[type="radio"][value=""].searchfacet').prop("checked",!0),searchLibrary.registeredAntiIngredients=[],searchLibrary.clearCalorieSearch(),searchLibrary.performSearch();else{var t=$(this).data("filter").split(":"),i=$(this).data("type");if(t.length>0){if("facet"===i)$('input[type="checkbox"].searchfacet[name="'+t[0]+'"]').length>0?$('input[type="checkbox"].searchfacet[name="'+t[0]+'"][value="'+t[1].replace(/ /g,"+")+'"]').prop("checked",!1):$('input[type="radio"].searchfacet[name="'+t[0]+'"]').length>0&&($('input[type="radio"][name="'+t[0]+'"].searchfacet').prop("checked",!1),$('input[type="radio"][name="'+t[0]+'"][value=""].searchfacet').prop("checked",!0));else if("calorierange"===i)searchLibrary.clearCalorieSearch(),searchLibrary.performSearch();else if("antifilter"===i&&"Ingredients"===t[0]){var o=searchLibrary.registeredAntiIngredients.indexOf(t[1].toLowerCase());o>-1&&searchLibrary.registeredAntiIngredients.splice(o,1)}searchLibrary.performSearch()}}return!1}),$("input.autocomplete").each(function(){$(this).autocomplete({serviceUrl:"/SearchAutoComplete.ashx",minChars:3})}),$(document).on("click","ul.search-results-paging li",function(){if($(this).hasClass("disabled"))return!1;var e=$(this).data("page");void 0!==e&&null!==e&&"NaN"!==Number(e)||(e=1);var t=$(".tabs-list .tabs-list-tab.active").data("searchtype").toUpperCase();searchLibrary.performSearch(e,t)}),$("a.search-perpage").click(function(e){return e.preventDefault(),searchLibrary.RESULTS_PER_PAGE=30===searchLibrary.RESULTS_PER_PAGE?90:30,searchLibrary.performSearch(1),!1}),$(".search-results-controls-search-by select").change(function(e){return e.preventDefault(),searchLibrary.performSearch(1),!1}),$(".tabs-list .tabs-list-tab").click(function(e){if($(this).hasClass("active"))return!1;var t=$(this).data("searchtype").toUpperCase();return searchLibrary.performSearch(1,t),!1});utilitiesLibrary.GetQueryStringParams("Course")},preloadImages:function(e,t){if(void 0===e)i={SearchResult:{Identifier:"mainSearchResults"}};else var i=e;var o=function(){setTimeout(function(){$("#"+i.SearchResult.Identifier).removeAttr("style"),$("#pagingContainer").find(".trf-search-loading").length<=0?$("#"+i.SearchResult.Identifier).addClass("loaded"):$("#pagingContainer").find(".trf-search-loading").animate({opacity:"0"},400,function(){$("#pagingContainer").find(".trf-search-loading").remove(),$("#"+i.SearchResult.Identifier).addClass("loaded")})},400)};$("#"+i.SearchResult.Identifier).css({visibility:"hidden"});var s=$("#"+i.SearchResult.Identifier).find("img").length,n=0;s<=0?o():($("#pagingContainer").find(".trf-search-loading").length<=0&&$("#pagingContainer").prepend('<div class="trf-search-loading"><img src="/images/2014/icons/ajax-spinner.gif" /><div class="text-center">Please wait</div></div>'),$("#pagingContainer").find(".trf-search-loading").css({opacity:"0",position:"fixed",top:"auto",left:j("#pagingContainer").offset().left+j("#pagingContainer").outerWidth()/2+"px"}).animate({opacity:"1"},400),$("#"+i.SearchResult.Identifier+" img").each(function(t,i){$(this).on("load",function(){s===++n&&o()}).on("error",function(){$(this).attr("src","http://placehold.it/472x310&text=Realfood"),s===++n&&o()}),void 0===e&&$(this).attr("src",$(this).attr("src")+"?"+Math.floor(1e3*Math.random()))}))},history:null};jQuery(document).ready(function(){searchLibrary.prepareSearch(),$(".search-results").length>0&&(searchLibrary.preloadImages(),YUI().use("history",function(e){e.HistoryHash.hashPrefix="!",searchLibrary.history=new e.HistoryHash;var t=searchLibrary.history.get("q");void 0!==t&&t.length>0&&(console.log("requestSearch: 1"),searchLibrary.requestSearch(t.replace(new RegExp('"',"g"),""))),searchLibrary.history.on("change",function(e){var t=e.newVal.q;searchLibrary.requestSearch(t.replace(new RegExp('"',"g"),""))})}))});var slickCarousel=function(){var e=function(){j("[data-carousel-slick]").length>0&&j("[data-carousel-slick]").slick({infinite:!0,adaptiveHeight:!0,mobileFirst:!0,autoplay:!0,speed:700,cssEase:"ease-in",autoplaySpeed:6e3,prevArrow:'<a class="slick-prev-arrow slick-arrows"><span class="fa fa-chevron-left"></span></a>',nextArrow:'<a class="slick-next-arrow slick-arrows"><span class="fa fa-chevron-right"></span></a>',dots:!0,dotsClass:"custom_paging",customPaging:function(e,t){return t+1+"/"+e.slideCount}})},t=function(){j(window).on("load resize",function(){var e=j("[data-carousel-slick]").find(".slide-image img"),t=Math.round(e.height()/2),i=j("[data-carousel-slick]").find(".slick-arrows");j(window).width()<768?i.css("top",t+"px"):i.removeAttr("style")})};return{init:function(){j("[data-carousel-slick]").each(function(){e(),t()})}}}();jQuery(document).ready(function(){slickCarousel.init()});var expandRelatedContent=function(){var e=function(){j("[data-expanding-content]").each(function(){var e=j(this).data("showOnLoad");j(this).find(".hidden-card").removeClass("visible-card"),j(this).find(".hidden-card:lt("+e+")").addClass("visible-card")})},t=function(){j("[data-expanding-content]").each(function(){var e=j(this).find(".hidden-card").size(),t=j(this).find("[data-load-more-content]"),i=j(this).find("[data-external-link]"),o=j(this).data("showOnLoad"),s=j(this).data("showOnClick");t.on("click",function(t){t.preventDefault(),s=o+s<=e?o+s:e,j(this).closest("[data-expanding-content]").find(".hidden-card:lt("+s+")").addClass("visible-card"),s===e&&($(this).hide(),i.show())})})};return{init:function(){e(),t()}}}();jQuery(document).ready(function(){expandRelatedContent.init()});var slideDownContent=function(){var e=function(){var e=j("[data-slidedown-content]").find("#js-slidedown-trigger"),t=j("[data-slidedown-content]").find("#js-slidedown-content");e.on("click",function(e){e.preventDefault(),t.slideDown("slow")})};return{init:function(){j("[data-slidedown-content]").each(function(){e()})}}}();jQuery(document).ready(function(){slideDownContent.init()});var socialMediaImageCompetition={COMPETITION_TYPE:"",ITEMS_BUTTONMORE:".js-gingerbreadGallery .js-expand-content.expand-content",ITEMS_CONTAINER:".section-comp-gallery",ITEMS_CONTAINER_SELECTOR:".gingerbread-gallery a.galery-item",ITEMS_COUNT:0,ITEMS_LASTSHOWN:0,ITEMS_PERPAGE:8,ITEM_SELECTED:{},ITEM_SELECTED_INDEX:0,init:function(e){if(console.log("socialMediaImageCompetition.init called from components/social-media-image-competition.js"),void 0!==e&&null!==e){this.COMPETITION_TYPE=e,$(socialMediaImageCompetition.ITEMS_CONTAINER_SELECTOR).remove(),$(window).width()>=768?socialMediaImageCompetition.ITEMS_PERPAGE=8:$(window).width()<768&&(socialMediaImageCompetition.ITEMS_PERPAGE=6),console.log("loading first "+socialMediaImageCompetition.ITEMS_PERPAGE+" gallery items"),socialMediaImageCompetition.loadItems(0,socialMediaImageCompetition.ITEMS_PERPAGE,function(e,t){e?t.Entries.length>0?(console.log("rendering initial gallery"),socialMediaImageCompetition.renderItems(t)):($(socialMediaImageCompetition.ITEMS_BUTTONMORE).hide(),$(socialMediaImageCompetition.ITEMS_CONTAINER).hide()):(console.log("Data returnend not expected"),$(socialMediaImageCompetition.ITEMS_BUTTONMORE).hide(),$(socialMediaImageCompetition.ITEMS_CONTAINER).hide(),console.log(t))}),$("body").on("click",socialMediaImageCompetition.ITEMS_CONTAINER_SELECTOR,function(e){e.preventDefault();var t=$(this),i=$(socialMediaImageCompetition.ITEMS_CONTAINER_SELECTOR).index(t);if(socialMediaImageCompetition.ITEM_SELECTED=t[0],socialMediaImageCompetition.ITEM_SELECTED_INDEX=i,i<0)return!1});var t=$("#js-galleryModal");t.on("show.bs.modal",function(e){console.log("modal opened"),console.log(socialMediaImageCompetition.ITEM_SELECTED_INDEX),socialMediaImageCompetition.renderSelectedItem()}),t.on("hide.bs.modal",function(e){t.find(".js-galleryModalCarousel").remove(),t.find(".gallery-image-modal").remove()}),$(".gallery-previous").on("click",function(e){e.preventDefault(),socialMediaImageCompetition.ITEM_SELECTED_INDEX--,socialMediaImageCompetition.renderSelectedItem()}),$(".gallery-next").on("click",function(e){e.preventDefault(),socialMediaImageCompetition.ITEM_SELECTED_INDEX++,socialMediaImageCompetition.renderSelectedItem()})}else console.log("Invalid type")},renderSelectedItem:function(){var e=$("#js-galleryModal");socialMediaImageCompetition.getItem(socialMediaImageCompetition.ITEM_SELECTED_INDEX,function(t,i){if(t){var o=i.Entries[0],s=i.Position,n=i.Total;console.log("recieved gallery item"),console.log(o),console.log(s),console.log(n);var a=$("#js-galleryModal").find(".image-cont"),r='<img src="/media/'+o.Image+'" alt="Gallery Image" class="gallery-image-modal" />';a.find("img").remove(),a.prepend(r),e.find(".modal-desc").html(o.Summary);var l="http://www.pinterest.com/pin/create/button/?url="+window.location.href+"&media=http://"+window.location.host+"/media/images/"+o.Image+"&descripion="+o.Summary;e.find(".pinterest-button").attr("href",l);var c=$(".gallery-next"),d=$(".gallery-previous");s>1?d.show():d.hide(),s<n?c.show():c.hide()}else console.log("failed to receive gallery item")})},renderItems:function(e){for(var t=0;t<e.Entries.length;t++){var i=socialMediaImageCompetition.createItem(e.Entries[t]);$(socialMediaImageCompetition.ITEMS_BUTTONMORE).before(i)}socialMediaImageCompetition.ITEMS_COUNT=e.Total,socialMediaImageCompetition.ITEMS_LASTSHOWN=e.Position,socialMediaImageCompetition.configureMoreButton()},configureMoreButton:function(){if(socialMediaImageCompetition.ITEMS_LASTSHOWN>=socialMediaImageCompetition.ITEMS_COUNT||0===socialMediaImageCompetition.ITEMS_COUNT)return $(socialMediaImageCompetition.ITEMS_BUTTONMORE).hide(),!1;$(socialMediaImageCompetition.ITEMS_BUTTONMORE).off("click").on("click",function(e){return e.preventDefault(),console.log("requesting additional items from offset: "+socialMediaImageCompetition.ITEMS_LASTSHOWN),$(window).width()>=768?socialMediaImageCompetition.ITEMS_PERPAGE=8:$(window).width()<768&&(socialMediaImageCompetition.ITEMS_PERPAGE=6),socialMediaImageCompetition.loadItems(socialMediaImageCompetition.ITEMS_LASTSHOWN,socialMediaImageCompetition.ITEMS_PERPAGE,function(e,t){e&&t.Entries.length>0&&(console.log("adding to gallery"),socialMediaImageCompetition.renderItems(t))}),!1})},loadItems:function(e,t,i){"number"==typeof e&&"number"==typeof t||(console.log("socialMediaImageCompetition.loadItems: start/number not a number"),"function"==typeof i&&i(!1)),$.ajax({type:"POST",cache:!0,url:"/ajaxmanager.aspx/GetSocialMediaImageCompetitionEntryEntries",data:"{type:'"+socialMediaImageCompetition.COMPETITION_TYPE+"', start:"+e+", number: "+t+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(e){return $(".js-ajax-loading").hide(),"function"==typeof i&&i(!0,e.d),!0},error:function(){return"function"==typeof i&&i(!1),!1}})},createItem:function(e){return console.log("gallery Summary",e.Image),"object"!=typeof e?"":'<a class="galery-item" data-toggle="modal" data-target="#js-galleryModal"><img src="/media/'+e.Image+'" alt="'+e.Title+'" /></a>'},imageStore:[],getItem:function(e,t){socialMediaImageCompetition.imageStore[e]?t(!0,socialMediaImageCompetition.imageStore[e]):$.ajax({type:"POST",cache:!0,url:"/ajaxmanager.aspx/GetSocialMediaImageCompetitionEntry",data:"{type: '"+socialMediaImageCompetition.COMPETITION_TYPE+"', index:"+e+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(i){return socialMediaImageCompetition.imageStore[e]=i.d,"function"==typeof t&&t(!0,i.d),!0},error:function(){return"function"==typeof t&&t(!1,data),!1}})}},gridSquare=function(){var e=function(){j("[data-square-grid]").each(function(){var e=j(this).find(".grid-column");_gridWidth=e.width(),j(window).width()>=480?e.css("height",_gridWidth+"px"):e.removeAttr("style");var t=$(".col-title");t.css({"min-height":"0px"});var i=Math.max.apply(null,t.map(function(){return $(this).height()}));t.css({"min-height":i+"px"})})},t=function(){jQuery.browser.mobile&&j("[data-square-grid]").each(function(){j(this).find("[data-video-column]").remove()})},i=function(){var e=3500,t=function(e){var t=e.target||e.srcElement;setTimeout(function(){t.currentSrc=t.currentSrc,t.currentTime=0,t.play()},3500)};j("[data-square-grid] [data-video-column] video").each(function(){if(7===g.ie||8===g.ie){var i=j(this).attr("poster");j(this).parent().append('<img src="'+i+'" alt="Video Poster" class="ie8-poster-img" />'),j(this).remove()}else{var o=j(this).get(0);o.volume=0,o.addEventListener("ended",t),setTimeout(function(){o.play()},e),e+=3500}})},o=function(e,t,i){var o;return function(){var s=this,n=arguments,a=i&&!o;clearTimeout(o),o=setTimeout(function(){o=null,i||e.apply(s,n)},t),a&&e.apply(s,n)}};return{init:function(){e(),t(),i();var s=o(function(){e()},250);j(window).on("resize",function(){s(),e()})}}}();jQuery(document).ready(function(){gridSquare.init()});var pageLeafRecipeCollections=function(){"use strict";var e="#js-evenBetterRecipeCollections",t="#js-evenBetterCollectionsNavigation",i="#js-ajax-loading",o={},s=function(){j("#js-evenBetterRecipeImage> img").load(function(){j(window).on("resize",function(){var e=Math.round(j("#js-evenBetterRecipeImage> img").height()),i=Math.round((e-48)/5);j(t).css("max-height",e+"px"),j(t+" li a img").css("height",i+"px")})})},n=function(){j(t).find("a").on("click",function(e){e.preventDefault(),j(this).parent().siblings().removeClass("active-item"),j(this).parent().addClass("active-item");var i=j(this).data("id");switch(j(this).data("type")){case"youtube":case"wysiwyg":case"link":var o=j(t).data("cachekey");p(i,o,a,"","thumb",!0),console.log("new load (2)"),console.log("cache: "+o);break;default:u(i,r,this,"","thumb",!0)}}),l()},a=function(e,i){console.log("callback reached"),e?(f(i),j(t+" li").removeClass("active-item"),j(t+" li").eq(m()).addClass("active-item")):console.log("loadContentFromCache fail")},r=function(e,i,o){var s=j(o).find("span.gravity").length>0;console.log("definegetter 1"),i.__defineGetter__("isgravity",function(){return s}),"object"==typeof i&&(g(i),j(t+" li").removeClass("active-item"),j(t+" li").eq(m()).addClass("active-item"))},l=function(){j(e).find(".arrows-navigation").on("click",function(e){console.log("next/prev navigation clicked"),e.preventDefault();var i=m();j(this).hasClass("next")?i++:j(this).hasClass("previous")&&i--;var o=j(t+" li a").eq(i),s=j(o).data("id");switch(j(o).data("type")){case"youtube":case"wysiwyg":case"link":var n=j(t).data("cachekey");p(s,n,c,i,"prevNext",!0),console.log("new load (2)"),console.log("cache: "+n);break;default:u(s,d,o,i,"prevNext",!0)}})},c=function(e,i,o){console.log("callback reached"),e?(f(i),j(t+" li").removeClass("active-item"),j(t+" li").eq(o).addClass("active-item")):console.log("loadContentFromCache fail")},d=function(e,i,o,s){var n=j(o).find("span.gravity").length>0;console.log("definegetter 2"),i.__defineGetter__("isgravity",function(){return n}),"object"==typeof i&&(g(i),j(t+" li").removeClass("active-item"),j(t+" li").eq(s).addClass("active-item"))},p=function(t,s,n,a,r,l){j(e).find(i).show();$.ajax({type:"POST",cache:!0,url:"https://booner.ddns.net/ajaxmanager.aspx/LoadContentFromCache",data:'{contentId:"'+t+'", cachekey:"'+s+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(c){return l&&h(t,r,a,s),o=c.d,j(e).find(i).hide(),"function"==typeof n&&(console.log("calling callback"),n(!0,c.d,a)),!0},error:function(){return"function"==typeof n&&n(!1),j(e).find(i).hide(),!1}})},u=function(t,s,n,a,r,l){j(e).find(i).show(),console.log("Gallery LoadRecipe 2");$.ajax({type:"POST",cache:!1,url:"/ajaxmanager.aspx/GetRecipeWithRelatedContent",data:'{contentId:"'+t+'"}',contentType:"application/json; charset=utf-8",dataType:"json",success:function(c){return l&&h(t,r,a,""),o=c.d,j(e).find(i).hide(),"function"==typeof s&&(s(!0,c.d,n,a),j(e).find(i).hide()),!0},error:function(){return"function"==typeof s&&s(!1),j(e).find(i).hide(),!1}})},h=function(e,t,i,o){window.history.pushState({dataId:e,initiator:t,index:i,cachekey:o},"","?id="+e),localStorage.setItem("previousGalleryInitiator",t)},f=function(e){j("#js-evenBetterRecipeImage").html(""),j("#js-evenBetterRecipeDetails").html("");var i=[];if("youtube"===e.Type){console.log("youtube display 1");var o=e.Url.replace(/^#/,""),s="Youtube - Use thumbnail"===e.Option1?"http://img.youtube.com/vi/"+o+"/maxresdefault.jpg":e.MainImage.ImageUrl;i.push('<div class="video_wrapper">'),i.push('<div><img src="'+s+'" alt="'+e.Title+'" /><a href="https://www.youtube.com/embed/'+o+'" class="play"></a></div>'),i.push('<div class="video-container"></div>'),i.push('<div class="youtube-cookie-banner"><div class="youtube-cookie-banner__inner"><div class="youtube-cookie-banner__copy"><h3>We value your privacy</h3><p>We use cookies to help give you the best experience on our site. By playing this video, you are consenting to receive third party privacy-enhanced cookies.</p></div><div class="youtube-cookie-banner__buttons"><button class="youtube-cookie-banner__button youtube-cookie-banner__button--accept">Accept all cookies</button></div></div></div>'),i.push("</div>"),j("#js-evenBetterRecipeImage").html(i.join("")),v(e),(i=[]).push('<div class="description-col full-width">'),i.push('<h2 class="title">'+e.SummaryText+"</h2>"),i.push("<p>"+e.Content+"</p>"),i.push("</div>"),j(i.join("")).appendTo(j("#js-evenBetterRecipeDetails"))}else"wysiwyg"===e.Type||"link"===e.Type?(console.log("wysiwig display 1"),j("#js-evenBetterRecipeImage").html('<img src="'+e.MainImage.ImageUrl+'" alt="'+e.Title+'" />'),i.push('<div class="description-col full-width">'),i.push('<h2 class="title">'+e.SummaryText+"</h2>"),i.push(e.Content),i.push("</div>"),j(i.join("")).appendTo(j("#js-evenBetterRecipeDetails"))):"image"===e.Type&&(console.log("image display 1"),j("#js-evenBetterRecipeImage").html('<img src="'+e.MainImage.ImageUrl+'" alt="'+e.Title+'" />'));var n=e.ContentId,a=j(t+' > li > a[data-id="'+n+'"]'),r=j(a).parent().index()+1,c=j(a).parent().parent().children("li").length,d=[];d.push('<div class="count-holder" id="js-countHolder"><span class="num">'+r+"</span> of "+c+"</div>"),r>1&&d.push('<a href="#" id="js-previousRecipe" class="arrows-navigation previous"><i class="tesco-icon tesco-icon-chevron-left"></i><span class="visually-hidden">Previous image</span></a>'),r<c&&d.push('<a href="#" id="js-nextRecipe" class="arrows-navigation next"><i class="tesco-icon tesco-icon-chevron-right"></i><span class="visually-hidden">Next image</span></a>'),j(d.join("")).appendTo(j("#js-evenBetterRecipeImage")),l()},g=function(e){if($("div.container .header-content .gravity-stamp").remove(),$(".gravity-related-items").remove(),e.isgravity){$(".section-breadcrumb").parent("section").addClass("gravity"),$(".section-related-collections").hide();var i=[];for(r=0;i.length<3&&r<e.RelatedContent.length;r++)"HighlightLink"===e.RelatedContent[r].Category&&i.push(e.RelatedContent[r]);var o={SummaryText:"",Url:"https://www.tesco.com/food-love-stories/",BestImage:{ImageUrlEncoded:"/images/_images2017/lovestories-mpu-cropped.jpg"}};if(i.length>2?i[2]=o:null!==i&&i.push(o),i.length>0){$(".section-collections-bottom").append("<div class='gravity-related-items'></div>");var s=$("div.gravity-related-items");for(r=0;r<i.length;r++){var n='<div class="recipe-list-item '+("Video"===i[r].Type?"video":"")+'">';n+='   <a class="recipe-list-item-visual" title="'+i[r].SummaryText+'" href="'+i[r].Url+'">',n+='       <img src="'+i[r].BestImage.ImageUrlEncoded+'" alt="'+i[r].SummaryText+'" />',n+="   </a>",n+='   <div class="recipe-list-item-content">',n+='       <div class="recipe-list-item-title">',n+='           <a href="'+i[r].Url+'" title="'+i[r].SummaryText+'">'+i[r].SummaryText+"</a>",n+="       </div>",n+="   </div>",n+="</div>",$(s).append(n)}}}else $("section.gravity").removeClass("gravity"),$(".section-related-collections").show();j("#js-evenBetterRecipeDetails").html("");var a=[];if(a.push('<div class="description-col">'),a.push('<h2 class="title">'+e.Title+"</h2>"),e.WhatToDoIntro&&null!==e.WhatToDoIntro&&a.push("<p><em>"+e.WhatToDoIntro+"</em></p>"),a.push("<p>"+e.WhatToDo+"</p>"),a.push('<a href="'+e.Url+'" class="full-full-recipe"><i class="tesco-icon tesco-icon-chevron-right tesco-icon-sm"></i>View full recipe details</a>'),a.push('<span class="divider"></span>'),a.push("</div>"),"object"==typeof e.Ingredients&&e.Ingredients instanceof Array&&e.Ingredients.length>0){a.push('<div class="ingredients-col">'),a.push('<ul class="list-ingredients">'),a.push("<li><strong>Ingredients</strong></li>");for(var r=0;r<e.Ingredients.length;r++){var c=e.Ingredients[r];""!==c.PreIngredientTitle&&(0!==r&&(a.push("</ul>"),a.push('<ul class="list-ingredients">')),a.push("<li><strong>"+c.PreIngredientTitle+"</strong></li>")),a.push("<li>"+c.DisplayText+"</li>")}a.push("</ul>"),a.push("</div>")}j(a.join("")).appendTo(j("#js-evenBetterRecipeDetails")),j("#js-evenBetterRecipeImage").html("");var d=e.ContentId,p=j(t+' > li > a[data-id="'+d+'"]'),u=j(p).parent().index()+1,h=j(p).parent().parent().children("li").length,f=[];f.push('<img src="'+e.BestImage.ImageUrl+'" alt="'+e.Title+'" />'),f.push('<div class="ajax-loading" id="js-ajax-loading"></div>'),f.push('<div class="count-holder" id="js-countHolder"><span class="num">'+u+"</span> of "+h+"</div>"),u>1&&f.push('<a href="#" id="js-previousRecipe" class="arrows-navigation previous"><i class="tesco-icon tesco-icon-chevron-left"></i><span class="visually-hidden">Previous image</span></a>'),u<h&&f.push('<a href="#" id="js-nextRecipe" class="arrows-navigation next"><i class="tesco-icon tesco-icon-chevron-right"></i><span class="visually-hidden">Next image</span></a>'),j(f.join("")).prependTo(j("#js-evenBetterRecipeImage")),"object"==typeof trackTagWriter&&trackTagWriter.init(),l()},m=function(){if(void 0===o.ContentId)return localStorage.getItem("firstGalleryItemIndex")||0;var e=j(t+' > li > a[data-id="'+o.ContentId+'"]');return j(e).parent().index()},v=function(e){var t=j(".video-container"),i=j(".play"),o="",s="";i.length>0&&(e?s=e.Url.replace(/^#/,""):(s=i.attr("href").replace("http://www.youtube-nocookie.com",""),s=i.attr("href").replace("https://www.youtube-nocookie.com",""),s=s.replace(/^#/,"")),s=s.replace(/^#/,""),new RegExp("^https://").test(s)||(s="https://www.youtube-nocookie.com/embed/"+s),i.on("click",function(e){e.preventDefault(),o='<span class="close">Close</span><iframe src="'+s+'?autoplay=1&autohide=1&modestbranding=1&showinfo=0&rel=0&wmode=transparent"></iframe>',t.html(o).show(),j(".close").on("click",function(){t.fadeOut(350,function(){t.html("")})})}))};window.addEventListener("popstate",function(e){var t,i=e.state;if(null!==i){var o=j("a[data-id='"+i.dataId+"']");""===i.cachekey?(t="thumb"===i.initiator?r:d,u(i.dataId,t,o,i.index,i.initiator,!1)):(t="thumb"===i.initiator?a:c,p(i.dataId,i.cachekey,t,i.index,i.initiator,!1))}else{var s=localStorage.getItem("firstGalleryItemId"),n=localStorage.getItem("firstGalleryItemIndex"),l=localStorage.getItem("firstGalleryItemCacheKey");""===l?(t="thumb"===localStorage.getItem("previousGalleryInitiator")?r:d,u(s,t,j("a[data-id='"+s+"']"),n,"thumb",!1)):(t="thumb"===localStorage.getItem("previousGalleryInitiator")?a:c,p(s,l,t,n,"thumb",!1))}});var y=function(){localStorage.setItem("firstGalleryItemIndex",$("#js-evenBetterCollectionsNavigation li").index($(".active-item"))),localStorage.setItem("firstGalleryItemId",$("#js-evenBetterCollectionsNavigation .active-item > a").attr("data-id")),localStorage.setItem("firstGalleryItemCacheKey",$("#js-evenBetterCollectionsNavigation").attr("data-cachekey"))};return{init:function(){j(e).length>0&&(s(),n(),v(!1),y())}}}();jQuery(document).ready(function(){pageLeafRecipeCollections.init()}),jQuery(document).ready(function(){}),void 0!==disqusLibrary&&(disqusLibrary.PublicKey="nj0BAMdoBuo0yoetqxbllyyzSgmYVtHThwxVnxG4iHBq35pPHDSBiGCK4W6GbWZC",disqusLibrary.ShortName="tescorealfood"),void 0!==loginLibrary&&loginLibrary.init();var pageCwk=function(){var e=function(){var e=j("#js-cwk-uploadLinkSection");e.length>0&&j("#js-cwk-slideToEnterButton").on("click",function(t){t.preventDefault(),$("html,body").animate({scrollTop:e.offset().top},1350)})};return{init:function(){e()}}}();jQuery(document).ready(function(){pageCwk.init()});
//# sourceMappingURL=global-script.min.js.map